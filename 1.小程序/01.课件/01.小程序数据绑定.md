# 小程序数据绑定

## 1.Create(创建)

1. Vue

   1. 在配置对象中,添加data函数,该函数返回一个对象

   2. **面试题:请问为什么Vue的data属性,必须是一个函数?**

      1. ```vue
         //app.vue
         <template>
         	<A/>
         	<A/>
         	<A/>
         </template>

         <script>
         //A文件暴露出来的东西,经过加工,最终会变成能够生成A组件实例对象的构造函数  
         import A from './A.vue';

         export default{
           components:{
             A
           }
         }
         </script>
         ```

      2. **如果data属性是一个对象,那么该对象会被当前组件构造函数创建的所有实例对象共享,具有类似Vuex的效果,但是data一般用于存放当前组件实例独享的数据,所以将data写成函数形式,这样才能保证每个组件实例都具有自己的data对象**

      3. **data函数就是一个工厂函数**

2. React

   1. 在组件类中,添加state属性,属性值为一个对象

3. 小程序

   1. 在配置对象中,添加data属性,属性值为一个对象
   2. **面试题:为什么小程序不需要像Vue一样将data写为函数形式?**
      1. **因为小程序在加载组件的时候,会将data中的对象以json形式进行深克隆,保证每次得到的对象都是唯一的,不会出现与其他实例共享对象的情况**

## 2.Read(读取)

1. 在模版中读取
   1. Vue
      1. 在template中直接使用{{msg}}(插值语法)进行展示即可
   2. React
      1. 在render函数中,使用{this.state.msg}进行展示即可
   3. 小程序
      1. **在wxml中直接使用{{msg}}(插值语法)进行展示即可**
2. 在js中读取
   1. Vue
      1. 语法:this.msg -> 触发数据代理的get方法 -> this.$data.msg -> 触发数据劫持的get方法 -> 将使用闭包缓存的属性值进行返回
      2. 此流程中,可以看出Vue具有数据代理和数据劫持
   2. React
      1. 语法:this.state.msg
      2. React没有数据代理,所以只能通过this找到state对象进行读取
   3. **小程序**
      1. **语法:this.data.msg**
      2. **小程序也没有数据代理,所以只能通过this找到data对象进行读取**

## 3.Update(更新)

1. Vue
2. React
3. 小程序

## 4.Delete(删除)

1. Vue
2. React
3. 小程序